(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1100:function(e,t,n){},1143:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(134),c=n(2),o=n(921),i=n(922),l=n(51),s=n(4),u=n(87),m=n(8);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=b(Object(r.useState)(!1),2),n=t[0],f=t[1],p=[{id:2,name:Object(c.__)("First Name","wp-marketing-automations"),type:1,value:"John",meta:{placeholder:Object(c.__)("Enter First Name","wp-marketing-automations")}},{id:3,name:Object(c.__)("Last Name","wp-marketing-automations"),type:1,value:"Doe",meta:{placeholder:Object(c.__)("Enter Last Name","wp-marketing-automations")}},{id:"timezone",name:Object(c.__)("TimeZone","wp-marketing-automations"),value:"America/New_York"},{id:"gender",name:Object(c.__)("Gender","wp-marketing-automations"),value:"Male"},{id:"address",name:Object(c.__)("Address","wp-marketing-automations")},{id:"contact_no",name:Object(c.__)("Phone number","wp-marketing-automations"),type:1,value:"1234567890",meta:{placeholder:Object(c.__)("Enter Phone Number","wp-marketing-automations")}},{id:4,name:Object(c.__)("Company","wp-marketing-automations"),type:1,value:"Wisetr",meta:{placeholder:Object(c.__)("Enter Company","wp-marketing-automations")}}],d={},O=function(){f(!0)},y=[{id:1,name:Object(c.__)("Tag1","wp-marketing-automations")},{id:2,name:Object(c.__)("Tag2","wp-marketing-automations")}],j=[{id:1,name:Object(c.__)("List1","wp-marketing-automations")},{id:2,name:Object(c.__)("List2","wp-marketing-automations")}],v=[{id:1,name:Object(c.__)("Link Trigger 1","wp-marketing-automations")},{id:2,name:Object(c.__)("Link Trigger 2","wp-marketing-automations")}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"}),Object(r.createElement)(a.a,{items:[{key:0,label:Object(c.__)("General","wp-marketing-automations"),display:Object(r.createElement)(r.Fragment,null,p.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(o.a,{key:e.id,index:e.id,label:e.name,type:e.type?e.type:1,options:e.meta&&e.meta.options?e.meta.options:[],value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:O});var t=e.meta&&e.meta.options?e.meta.options:[],n=e.type?e.type:1;return"address"==e.id?Object(r.createElement)(i.a,{key:e.id,meta:{},contact:d,onChange:O}):("gender"==e.id&&(t=["Male","Female","Others"],n="4"),"timezone"==e.id?Object(r.createElement)(o.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:d[e.id],placeholder:"",onChange:O}):(e.id,Object(r.createElement)(o.a,{key:e.id,index:e.id,label:e.name,type:n,options:t,value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:O})))}})),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,y&&y.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){f(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return O()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))))),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Lists"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,j&&j.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){f(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return O()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))))),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Link Triggers"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,v&&v.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name})}))))))},{key:1,label:Object(c.__)("Custom Field Group","wp-marketing-automations"),display:Object(r.createElement)(o.a,{key:23,index:43,label:"Custom Field",type:1,options:[],value:"Custom Data",placeholder:"Enter",onChange:function(){return f(!0)}})}]}),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){f(!0)}},Object(c.__)("Add New Field Group","wp-marketing-automations")),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isPrimary:!0,onClick:function(){f(!0)}},Object(c.__)("Add New Field","wp-marketing-automations")),Object(r.createElement)(u.a,{isOpen:n,onRequestClose:function(){return f(!1)}})))}},1171:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),c=n.n(a),o=n(2),i=n(789),l=n(787),s=n(819),u=n(134),m=n(840),b=n(5),f=n(921),p=n(4),d=n(51),O=n(27),y=n(95),j=n(135),v=n(3),g=n(8);function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){h(c,r,a,o,i,"next",e)}function i(e){h(c,r,a,o,i,"throw",e)}o(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.contactId,n=e.lists,a=e.saveList,l=k(Object(r.useState)(n),2),s=l[0],u=l[1],m=k(Object(r.useState)(!1),2),f=m[0],h=m[1],_=k(Object(r.useState)(!1),2),S=_[0],N=_[1],C=k(Object(r.useState)([]),2),P=C[0],A=C[1],x=k(Object(r.useState)({message:"",type:1}),2),I=x[0],T=x[1],F=k(Object(r.useState)(""),2),D=F[0],R=F[1],B=(Object(i.a)().setContactField,function(){var e=E(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({path:Object(b.k)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){200==e.code?(T({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("lists",s.filter((function(e){return e.ID!=n.ID})))):T({message:e.message,type:1})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),T({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),L=function(){var e=E(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,c()({path:Object(b.k)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T({message:t.message,type:1}),Object(v.isEmpty)(t.result)||(n=t.result.list_added.map((function(e){return e})),r=[].concat(w(s),w(n)),r=Object(v.uniqBy)(r,"ID"),u(r),a("lists",r)),A([]),h(!1),N(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw Error(Object(b.i)(null==e?void 0:e.message))}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),R(e.t0.message),N(!1),u(n);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),M=P&&P.map((function(e){return{key:e.id,label:e.name}})),G=function(){0==P.length?R(Object(o.__)("Please select a list.","wp-marketing-automations")):(R(""),L(P))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:I.message,type:I.type,removeMessage:function(){return T({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(o.__)("Lists","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e,t){return Object(r.createElement)(d.a,{key:t,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return B(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return h(!0)}},Object(r.createElement)(g.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations")))),f&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return h(!1)},className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-overflow-visible bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Add Lists","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){return h(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),D&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return R("")}},D),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&G()}},Object(r.createElement)("div",{style:S?{pointerEvents:"none"}:{}},Object(r.createElement)(O.a,{autocompleter:y.a,multiple:!0,allowFreeTextSearch:!0,inlineTags:!0,selected:M,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),A(e)},onRemoveTag:function(e){A(P.filter((function(t){return t.id!==e})))},placeholder:Object(o.__)("Search by list name","wp-marketing-automations"),bwfEnableEmptySearch:!0,showClearButton:!1,disabled:!1})),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",disabled:S,onClick:function(){h(!1)}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,isBusy:S,disabled:S,onClick:function(){G()},className:"bwf-ml-0"},Object(o.__)("Add","wp-marketing-automations")))))))};N.defaultProps={contactId:0,lists:[]};var C=N,P=n(70);function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){x(c,r,a,o,i,"next",e)}function i(e){x(c,r,a,o,i,"throw",e)}o(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.contactId,n=e.tags,a=e.saveTags,l=T(Object(r.useState)(n),2),s=l[0],u=l[1],m=T(Object(r.useState)(!1),2),f=m[0],y=m[1],w=T(Object(r.useState)([]),2),h=w[0],E=w[1],k=T(Object(r.useState)(!1),2),_=k[0],S=k[1],N=T(Object(r.useState)({message:"",type:1}),2),C=N[0],x=N[1],F=T(Object(r.useState)(""),2),D=F[0],R=F[1],B=(Object(i.a)().setContactField,function(){var e=I(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({path:Object(b.k)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){x({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("tags",s.filter((function(e){return e.ID!=n.ID})))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),L=function(){var e=I(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,c()({path:Object(b.k)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=I(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({message:t.message,type:1}),Object(v.isEmpty)(t.result)||(n=t.result.tags_added.map((function(e){return e})),r=[].concat(A(s),A(n)),r=Object(v.uniqBy)(r,"ID"),u(r),a(r)),y(!1),E([]),S(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw Error(Object(b.i)(null==e?void 0:e.message))}));case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),R(e.t0.message),S(!1),u(n);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),M=h&&h.map((function(e){return{key:e.id,label:e.name}})),G=function(){0==h.length?R(Object(o.__)("Please select a tag.","wp-marketing-automations")):(R(""),L(h))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:C.message,type:C.type,removeMessage:function(){return x({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e,t){return Object(r.createElement)(d.a,{key:t,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return B(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return y(!0)}},Object(r.createElement)(g.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations")))),f&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return y(!1)},className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-overflow-visible bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Add Tags","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){return y(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),D&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return R("")}},D),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&G()}},Object(r.createElement)("div",{style:_?{pointerEvents:"none"}:{}},Object(r.createElement)(O.a,{autocompleter:P.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:M,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),E(e)},onRemoveTag:function(e){E(h.filter((function(t){return t.id!==e})))},placeholder:Object(o.__)("Search by tag name","wp-marketing-automations"),showClearButton:!1,disabled:!1})),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",disabled:_,onClick:function(){y(!1)}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,isBusy:_,disabled:_,onClick:function(){G()},className:"bwf-ml-0"},Object(o.__)("Add","wp-marketing-automations")))))))};R.defaultProps={contactId:0,tags:[]};var B=R;function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.links,n=L(Object(r.useState)(t),1)[0];return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Link Triggers"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,Object(v.isEmpty)(n)?"-":n.map((function(e){return Object(r.createElement)(d.a,{key:e.ID,label:e.title,id:e.ID,screenReaderLabel:e.title})})))))};G.defaultProps={contactId:0,links:[]};var z=G,U=n(922),q=(n(1100),n(243)),K=n(246),$=n(43),J=n(824);function Z(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){var t=e.options,n=e.field,a=e.setField,c="";return Object(v.isEmpty)(t)||(c=t.map((function(e,t){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-option-wrapper"},Object(r.createElement)(p.TextControl,{value:e,className:"bwf-m-f-add-option",placeholder:Object(o.__)("Add Option Name","wp-marketing-automations"),onChange:function(e){var r=n.meta&&n.meta.options?n.meta.options:[];r[t]=e,a(W(W({},n),{},{meta:W(W({},n.meta),{},{options:r})}))}}),Object(r.createElement)("span",{className:"dashicons dashicons-dismiss",onClick:function(){var e=n.meta.options;e.splice(t,1),a(W(W({},n),{},{meta:W(W({},n.meta),{},{options:e})}))}})))}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},c&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Options","wp-marketing-automations")),c),Object(r.createElement)(p.Button,{isSecondary:!0,className:"bwf-m-f-add-option-btn bwf-ml-0 bwf-display-flex",onClick:function(){var e=n.meta&&n.meta.options?n.meta.options:[];e.push(""),a(W(W({},n),{},{meta:W(W({},n.meta),{},{options:e})}))}},Object(o.__)("Add Option","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf_clear_20"}))},ee=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(q.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(K.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)($.a,null)},te=function(){var e=Object(r.useContext)(b.d),t=Object(J.a)(),n=V(Object(r.useState)([]),2),a=n[0],i=n[1],l=V(Object(r.useState)({}),2),u=l[0],m=l[1],f=V(Object(r.useState)(!1),2),d=f[0],O=f[1],y=V(Object(r.useState)({status:!1,message:""}),2),j=y[0],w=y[1],h=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c()({path:Object(b.k)("/fields/"),method:"POST",data:{group_id:r.group,field:{name:r.name,type:r.type,search:r.search,options:r.meta&&r.meta.options&&[4,5,6].includes(parseInt(r.type))?r.meta.options:[],placeholder:r.meta&&r.meta.placeholder?r.meta.placeholder:""}},headers:{"Content-Type":"application/json"}});case 3:if(!(a=n.sent)||200!==a.code){n.next=12;break}w({status:!1}),t.fetch(),O(!1),e(a.message),Object(b.Z)(e,2e3),n.next=13;break;case 12:throw Error(Object(b.i)(null==a?void 0:a.message));case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),i([null===n.t0||void 0===n.t0?void 0:n.t0.message]),w({status:!1});case 19:case"end":return n.stop()}}),n,null,[[0,15]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var c=n.apply(e,t);function o(e){Z(c,r,a,o,i,"next",e)}function i(e){Z(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(s.a)(),n=t.getGroups(),a=Object(J.a)();Object(r.useEffect)((function(){Object(v.isEmpty)(n)&&a.fetch()}),[]);var c=[{value:"",label:Object(o.__)("Select group","wp-marketing-automations")}];return n&&n.map((function(t){0!==parseInt(e)&&parseInt(t.id)===parseInt(e)||c.push({value:t.id,label:t.name})})),c}(),k=Object(o.__)(u&&u.id?"Edit Field":"Add Field","wp-marketing-automations"),_=function(){var e=[];if(u.name||e.push(Object(o.__)("Please enter field name.","wp-marketing-automations")),""===u.group&&e.push(Object(o.__)("Please select a group for field.","wp-marketing-automations")),u.type||e.push(Object(o.__)("Please select a type for field.","wp-marketing-automations")),Object(v.isEmpty)(e)){var t=[];u.meta&&!Object(v.isEmpty)(u.meta.options)&&(t=u.meta.options.filter((function(e){return null!=e&&""!=e}))),m(W(W({},u),{},{meta:W(W({},u.meta),{},{options:t})})),w({status:!0}),h(W(W({},u),{},{meta:W(W({},u.meta),{},{options:t})}))}else i(e)};return Object(r.createElement)(r.Fragment,null,d&&Object(r.createElement)(p.Modal,{title:k,onRequestClose:function(){return O(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},k),Object(r.createElement)("span",{onClick:function(){return O(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),j.success||j.error?Object(r.createElement)(ee,{state:j}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&_()}},Array.isArray(a)&&a.length>0&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return i([])}},a.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Field Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-field-name",autoFocus:!0,value:u&&u.name?u.name:"",placeholder:Object(o.__)("Enter field name","wp-marketing-automations"),onChange:function(e){m(W(W({},u),{},{name:e}))},disabled:j.status})),!!u&&[1,2,3].includes(parseInt(u.type))&&Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Placeholder","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-placeholder-name",value:u&&u.meta?u.meta.placeholder:"",placeholder:Object(o.__)("Placeholder text here …","wp-marketing-automations"),onChange:function(e){m(W(W({},u),{},{meta:W(W({},u.meta),{},{placeholder:e})}))},disabled:j.status})),(!u||!parseInt(u.id))&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Group","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u.group,className:"bwf-m-f-model-group-name",options:E,onChange:function(e){return m(W(W({},u),{},{group:e}))},disabled:j.status})),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Type","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u?u.type:1,className:"bwf-m-f-model-field-type",options:Object(b.z)(),onChange:function(e){return m(W(W({},u),{},{type:e}))},disabled:j.status}))),!!u&&[4,5,6].includes(parseInt(u.type))&&Object(r.createElement)(Q,{options:u.meta&&u.meta.options?u.meta.options:[],field:u,setField:m}),Object(r.createElement)(p.ToggleControl,{label:Object(o.__)("Is searchable","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:!u||!u.search||2!=parseInt(u.search),onChange:function(e){var t=1;e||(t=2),m(W(W({},u),{},{search:t}))},disabled:j.status}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",onClick:function(){return O(!1)}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){_()},className:"bwf-m-f-model-save-btn bwf-ml-0",disabled:j.status,isBusy:j.status},Object(o.__)("Add","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-p-15",isPrimary:!0,onClick:function(){m({}),i([]),O(!0)}},Object(o.__)("Add Field","wp-marketing-automations")))};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(){var e=Object(J.a)().setStateGroupValues,t=Object(r.useContext)(b.d),n=Object(s.a)().getGroups(),a=ie(Object(r.useState)([]),2),i=a[0],l=a[1],u=ie(Object(r.useState)({}),2),m=u[0],f=u[1],d=ie(Object(r.useState)(!1),2),O=d[0],y=d[1],j=ie(Object(r.useState)({status:!1,message:""}),2),w=j[0],h=j[1],E=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){var o,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c()({path:Object(b.k)("/groupfields/"),method:"POST",data:{group_name:a.name},headers:{"Content-Type":"application/json"}});case 3:if(200!=(o=r.sent).code){r.next=13;break}i=o.result?o.result[0]:{},Object(v.isEmpty)(i)||e([].concat(ce(n),[{id:i.id,name:i.name,fields:[]}])),h({status:!1}),y(!1),t(o.message),Object(b.Z)(t,2e3),r.next=14;break;case 13:throw Error(Object(b.i)(null==o?void 0:o.message));case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(0),l([null===r.t0||void 0===r.t0?void 0:r.t0.message]),h({status:!1});case 20:case"end":return r.stop()}}),r,null,[[0,16]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var c=r.apply(e,t);function o(e){oe(c,n,a,o,i,"next",e)}function i(e){oe(c,n,a,o,i,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}(),k=Object(o.__)(Object(v.isEmpty)(m.group_id)&&"0"!=m.group_id?"Add Field Group":"Edit Field Group","wp-marketing-automations"),_=function(){var e=[];m.name||e.push(Object(o.__)("Please enter group name.","wp-marketing-automations")),Object(v.isEmpty)(e)?(h({status:!0}),E(m)):l(e)};return Object(r.createElement)(r.Fragment,null,O&&Object(r.createElement)(p.Modal,{onRequestClose:function(){return y(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header"},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},k),Object(r.createElement)("span",{onClick:function(){return y(!1)},className:"bwf-modal-close"},Object(r.createElement)(g.a,{icon:"close",color:"#353030"}))),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&_()}},!Object(v.isEmpty)(i)&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return l([])}},i.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(o.__)("Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{type:"text",value:m&&m.name?m.name:"",autoFocus:!0,placeholder:Object(o.__)("Enter field group name","wp-marketing-automations"),onChange:function(e){f(re(re({},m),{},{name:e}))},disabled:w.status})),Object(r.createElement)("div",{className:"bwf_clear"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{className:"bwf-cancel-btn",onClick:function(){return y(!1)}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){_()},className:"bwf-m-f-model-save-btn bwf-ml-0",disabled:w.status,isBusy:w.status},Object(v.isEmpty)(m)?Object(o.__)("Add","wp-marketing-automations"):Object(o.__)("Save","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){f({}),l([]),y(!0)}},Object(o.__)("Add New Field Group","wp-marketing-automations")))};function me(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=Object(i.a)().setStateProps,n=l.a.getContactLoading(),a=l.a.getContact(),p=be(Object(r.useState)({message:"",type:1}),2),d=p[0],O=p[1],y=Object(s.a)(),g=y.getLoading(),w=y.getGroups(),h=Object(J.a)();if(Object(r.useEffect)((function(){var e=new AbortController,t=e.signal;return Object(v.isEmpty)(w)&&h.fetch(t),function(){null==e||e.abort()}}),[]),n||g)return Object(r.createElement)(m.d,null);var E,k=a.id,_=a.tags,S=a.lists,N=a.link_triggers,P=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({message:Object(o.__)("Saving…","wp-marketing-automations")}),e.prev=1,e.next=4,c()({path:Object(b.k)("/contacts/".concat(k,"/fields/")),method:"POST",data:{email:a.email,fields:n}}).then((function(e){200===parseInt(e.code)?(O({message:e.message,type:1}),t(e.result)):O({message:e.message,type:0})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),O({message:e.t0.message,type:0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){me(c,r,a,o,i,"next",e)}function i(e){me(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),A=function(e,t){var n={};n[e]=t,P(n)},x=function(e,n){t(a,e,n)},I=function(e){P(e)},T=function(e,t){return Object(r.createElement)(r.Fragment,null,Object(v.isEmpty)(e)?Object(r.createElement)("div",{style:{padding:"0 15px"}},Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(o.__)("No fields Found","wp-marketing-automations"),Object(r.createElement)("div",{className:"bwf_clear_10"})):e.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(f.a,{key:e.id,index:e.id,label:e.name,type:e.type?parseInt(e.type):1,options:e.meta&&e.meta.options?e.meta.options:[],value:a&&a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A});var n=e.meta&&e.meta.options?e.meta.options:[],c=e.type?parseInt(e.type):1;if("0"==t){if("address"==e.id)return Object(r.createElement)(U.a,{key:e.id,meta:a.fields,contact:a,onChange:I});if("gender"==e.id&&(n=["Male","Female","Others"],c=4),"timezone"==e.id)return Object(r.createElement)(f.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:a[e.id],placeholder:"",onChange:A});if("email"==e.id)return Object(r.createElement)(f.a,{key:e.id,index:e.id,label:"Email",type:1,value:a.email,placeholder:"",onChange:A});if("contact_no"==e.id)return Object(r.createElement)(f.a,{key:e.id,index:e.id,label:e.name,type:c,options:n,value:a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A})}return Object(r.createElement)(f.a,{key:e.id,index:e.id,label:e.name,type:c,options:n,value:a.fields&&a.fields[e.id]?a.fields[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A})}})),0==t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B,{tags:_,saveTags:x,contactId:k}),Object(r.createElement)(C,{lists:S,saveList:x,contactId:k}),Object(r.createElement)(z,{links:N})))};return Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"},Object(r.createElement)(j.a,{message:d.message,type:d.type,removeMessage:function(){return O({message:"",type:1})}})),Object(r.createElement)(u.a,{items:(E=[],w&&w.map((function(e){e.id,E.push({key:e.id,label:e.name,display:T(e.fields,e.id)})})),E)}),Object(r.createElement)(ue,null),Object(r.createElement)(te,null))}},819:function(e,t,n){"use strict";var r=n(130),a=(n(787),n(3));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw c}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){if(!Array.isArray(e)||0===e.length)return!1;var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!(!1 in a)){var c,o=s(a.fields);try{for(o.s();!(c=o.n()).done;){var i=c.value;if(!(!1 in i)&&t===i.slug)return i}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){r.e(e)}finally{r.f()}return!1},b=function(e,t){if(0===Object(a.size)(e))return!1;for(var n in e){var r=e[n];if(r&&r.slug&&t===r.slug)return r}return!1};t.a=function(){var e=Object(r.a)("groupdata"),t=e.getStateProp;return o(o({},l(e,["getStateProp"])),{},{getGroups:function(){return t("groups")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getFieldBySlug:function(e){var n=t("groups"),r=t("extra_fields"),a=m(n,e);return(!1!==a||!1!==(a=b(r,e)))&&a.ID},getCountData:function(){return t("countData")}})}},824:function(e,t,n){"use strict";var r=n(129),a=n(5);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("groupdata"),t=e.fetch,n=e.setStateProp;return o(o({},l(e,["fetch","setStateProp"])),{},{fetch:function(e){t("GET",Object(a.k)("/groupfields"),"","",e)},setStateGroupValues:function(e){n("groups",e)},setGroupValues:function(e,t){n(e,t)}})}},921:function(e,t,n){"use strict";var r=n(0),a=n(2),c=n(4),o=n(3),i=n(5);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.index,n=e.label,s=e.value,u=e.type,m=e.options,b=e.onChange,f=e.placeholder,p=Object(a.__)("Click to Edit","wp-marketing-automations"),d=l(Object(r.useState)(s),2),O=d[0],y=d[1],j=l(Object(r.useState)(!1),2),v=j[0],g=j[1],w=Object(i.X)(),h=function(e,t){var n=!1;try{e&&JSON.parse(e).includes(t)&&(n=!0)}catch(e){}return n};return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},n||t),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("span",{className:"bwf-editable-span",title:p,onClick:function(e){g(!0)}},v&&Object(r.createElement)(c.Popover,{onFocusOutside:function(e){g(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},[4,5,6].includes(parseInt(u))&&Object(o.isEmpty)(m)?Object(a.__)("Add Options to select here","wp-marketing-automations"):Object(r.createElement)(r.Fragment,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";switch(e){case 1:return Object(r.createElement)(c.TextControl,{value:n,className:"bwf-pop-input-field",placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onChange:function(e){y(e)},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))}});case 2:return Object(r.createElement)(c.TextControl,{type:"number",value:n,placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))},onChange:function(e){y(e)}});case 3:return Object(r.createElement)(c.TextareaControl,{value:n,onChange:function(e){y(e)}});case 4:var s=[{value:"",label:Object(a.__)("Select Option","wp-marketing-automations")}];return o.map((function(e){s.push({value:e,label:e})})),Object(r.createElement)(c.SelectControl,{value:n,className:"bwf-c-s-width-full",options:s,onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))},onChange:function(e){y(e)}});case 5:var u=[];return o.map((function(e){u.push({value:e,label:e})})),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))}},Object(r.createElement)(c.RadioControl,{label:Object(a.__)("Select an Option","wp-marketing-automations"),selected:n,options:u,onChange:function(e){y(e)}}));case 6:return Object(r.createElement)(r.Fragment,null,o.map((function(e){return Object(r.createElement)(c.CheckboxControl,{label:e,checked:h(n,e),onChange:function(t){var r=[];try{r=n?JSON.parse(n):[],t?r.push(e):r=r.filter((function(t){return t!==e})),y(JSON.stringify(r))}catch(t){r.push(e),y(JSON.stringify(r))}},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))}})})));case 7:return Object(r.createElement)("input",{type:"date",value:n,style:{width:"100%"},onChange:function(e){y(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&(b(t,n),g(!1))}});case 8:var m=[{value:"",label:Object(a.__)("Select timezone","wp-marketing-automations")}];return Object.entries(w).map((function(e){var t=l(e,2),n=t[0],r=t[1];m.push({value:n,label:r})})),Object(r.createElement)(c.SelectControl,{value:n,className:"bwf-c-s-width-full",options:m,onKeyPress:function(e){"Enter"===e.key&&(b(t,n),g(!1))},onChange:function(e){y(e)}})}}(parseInt(u),O,m,f),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(c.Button,{className:"bwf-modal-cancel-btn",onClick:function(e){e.stopPropagation(),g(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(c.Button,{isPrimary:!0,className:"bwf-pop-button",onClick:function(e){e.stopPropagation(),b(t,O),g(!1)}},Object(a.__)("Update","wp-marketing-automations")))))),function(){var e=Object(a.__)("-","wp-marketing-automations");if(Object(o.isEmpty)(s))return e;if(6===u)try{var t=JSON.parse(s);Object(o.isEmpty)(t)||(e=t.join(", "))}catch(e){}else e=s;if(8===u&&(e="-",w.hasOwnProperty(s)&&(e=w[s])),7===u)try{e=Object(i.J)(s,!1,!1)}catch(t){e="-"}return e}())))}},922:function(e,t,n){"use strict";var r=n(0),a=n(2),c=n(4),o=n(247),i=n(3),l=n(819),s=n(789),u=n(5);function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t,n=e.meta,p=e.onChange,d=e.contact,O=Object(l.a)().getFieldBySlug,y=Object(s.a)(),j=y.setContactField,v=y.setContactMeta,g={addressOne:O("address-1"),addressTwo:O("address-2"),pinCode:O("postcode"),city:O("city")},w=n[g.addressOne],h=n[g.addressTwo],E=n[g.pinCode],k=n[g.city],_=d.state,S=d.country,N=f(Object(r.useState)(!1),2),C=N[0],P=N[1],A=Object(a.__)("Click to Edit","wp-marketing-automations"),x=Object.entries(o).map((function(e){var t=f(e,2),n=t[0];return{label:t[1],value:n}}));return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(a.__)("Address","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("div",{className:"bwf-editable-span",title:A,onClick:function(){return P(!0)}},(t=[],Object(i.isEmpty)(w)||t.push(w),Object(i.isEmpty)(h)||t.push(h),Object(i.isEmpty)(k)||t.push(k),Object(i.isEmpty)(_)?Object(i.isEmpty)(E)||t.push(E):Object(i.isEmpty)(E)?t.push(_):t.push(_+" "+E),Object(i.isEmpty)(S)||(o.hasOwnProperty(S)?t.push(o[S]):t.push(S)),t=Object(i.isEmpty)(t)?Object(a.__)("Click to enter Address","wp-marketing-automations"):t.join(", "),Object(r.createElement)("p",null,t))),Object(r.createElement)("div",{className:"bwf-editable-span bwf-w-30 bwf-h-0",style:{display:"block"}},C&&Object(r.createElement)(c.Popover,{onFocusOutside:function(){P(!1)},position:"bottom"},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},Object(r.createElement)(c.TextControl,{type:"text",key:"1",value:w,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 1","wp-marketing-automations"),onChange:function(e){Object(u.gb)()&&v(g.addressOne,e)}}),Object(r.createElement)(c.TextControl,{type:"text",key:"2",value:h,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 2","wp-marketing-automations"),onChange:function(e){Object(u.gb)()&&v(g.addressTwo,e)}}),Object(r.createElement)(c.TextControl,{type:"text",key:"3",value:E,className:"bwf-pop-input-field",placeholder:Object(a.__)("Postal/ Zip Code","wp-marketing-automations"),onChange:function(e){Object(u.gb)()&&v(g.pinCode,e)}}),Object(r.createElement)(c.TextControl,{type:"text",key:"4",value:k,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter City","wp-marketing-automations"),onChange:function(e){Object(u.gb)()&&v(g.city,e)}}),Object(r.createElement)(c.SelectControl,{value:S,className:"bwf-c-s-width-full bwf-pop-input-field",options:[{label:"Select country",value:""}].concat(m(x)),onChange:function(e){u.gb&&j({country:e,state:""})}}),Object(r.createElement)(c.TextControl,{type:"text",key:"5",value:_,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter State","wp-marketing-automations"),onChange:function(e){Object(u.gb)()&&j({state:e})}}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(c.Button,{key:"cancel",className:"bwf-modal-cancel-btn",onClick:function(e){e.stopPropagation(),P(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(c.Button,{key:"save",isPrimary:!0,className:"bwf-pop-button",onClick:function(e){var t;e.stopPropagation(),Object(u.gb)()&&(b(t={},g.addressOne,Object(i.isEmpty)(w)?"":w.trim()),b(t,g.addressTwo,Object(i.isEmpty)(h)?"":h.trim()),b(t,g.pinCode,Object(i.isEmpty)(E)?"":E.trim()),b(t,g.city,Object(i.isEmpty)(k)?"":k.trim()),b(t,"state",Object(i.isEmpty)(_)?"":_.trim()),b(t,"country",Object(i.isEmpty)(S)?"":S.trim()),p(t)),P(!1)}},Object(a.__)("Update","wp-marketing-automations"))))))))}}}]);