(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1081:function(e,t,n){},1136:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(806),o=n(5),a=n(12),i=n.n(a),s=n(4),l=n(2),u=(n(1081),n(3)),f=n(128);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,c,o,a){try{var i=e[o](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,c)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=Object(r.useContext)(o.d),t=O(Object(r.useState)(""),2),n=t[0],a=t[1],b=O(Object(r.useState)(""),2),p=b[0],g=b[1],w=O(Object(r.useState)([]),2),j=w[0],h=w[1],v=O(Object(r.useState)(!0),2),y=v[0],E=v[1],_=O(Object(r.useState)(!1),2),S=_[0],N=_[1],P=O(Object(r.useState)({}),2),k=P[0],C=P[1];Object(c.a)("logs",!1,""),Object(o.f)("Logs");var D=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,i()({path:Object(o.k)("/settings/log-files"),method:"GET"}).then((function(e){200===e.code&&(h(e.result),E(!1))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),E(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var o=e.apply(t,n);function a(e){d(o,r,c,a,i,"next",e)}function i(e){d(o,r,c,a,i,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();if(Object(r.useEffect)((function(){D(),a(""),g("")}),[]),y)return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-log-file-wrapper"},Object(r.createElement)("div",{className:"bwf-log-file-header"},Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-210"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120 bwf-ml-10"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-90"}))));return Object(r.createElement)("div",{className:"bwf-log-file-wrapper"},Object(r.createElement)("div",{className:"bwf-log-file-header"},Object(r.createElement)("div",{className:"bwf-log-file-selector"},Object(r.createElement)(s.SelectControl,{options:j,value:n,onChange:function(e){a(e),g("")}}),n&&Object(r.createElement)(s.Button,{isPrimary:!0,onClick:function(){if(!Object(u.isEmpty)(n)){N(!0);try{i()({method:"GET",path:Object(o.k)("/settings/log/view?log_selected=".concat(n))}).then((function(t){t.hasOwnProperty("result")?g({id:n,content:t.result}):e(t.message)})).catch((function(t){console.log(t),e(t.message)})).finally((function(){N(!1)}))}catch(t){e(t.message),console.log(t),N(!1)}Object(o.Z)(e,2e3)}},disabled:S,isBusy:S},Object(l.__)("View","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-log-file-delete"},n&&Object(r.createElement)(s.Button,{isSecondary:!0,onClick:function(){if(!Object(u.isEmpty)(n)){var t={status:!0,modalTitle:Object(l.__)("Delete Log File"),deleteEntityName:n,isDelete:!0,buttonConfirm:Object(l.__)("Delete","wp-marketing-automations"),buttonCancel:Object(l.__)("Cancel","wp-marketing-automations")};C(m(m({},t),{},{onConfirm:function(){return function(t){C(m(m({},t),{},{status:!0}));try{i()({method:"DELETE",path:Object(o.k)("/settings/log/delete?log_selected=".concat(n))}).then((function(t){200===t.code&&(C({status:!1}),e(t.message),D(),g({}),a(""))})).catch((function(e){C({status:!0,error:e.message?e.message:"Something went wrong, Please try again later",content:e.error})}))}catch(t){console.log(t),e(t.message||"Unable to delete the log file")}Object(o.Z)(e,2e3)}(t)}}))}}},Object(l.__)("Delete","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf-log-file-content-show"},n&&!S&&!Object(u.isEmpty)(p)&&p.hasOwnProperty("content")&&p.content),Object(r.createElement)(f.a,{modalTitle:k.modalTitle,deleteEntityName:k.deleteEntityName,confirmText:k.confirmText,confirmButtonText:k.buttonConfirm,cancelButtonText:k.buttonCancel,onConfirm:k.onConfirm,isLoading:k.loading,successMessage:k.success,errorMessage:k.error,content:k.content,onRequestClose:function(){return C({status:!1})},confirmDescription:k.hasOwnProperty("confirmDescription")?k.confirmDescription:"",isOpen:k.status,isDelete:k.isDelete}))}},806:function(e,t,n){"use strict";var r=n(127),c=n(0);t.a=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},i=Object(r.a)(),s=i.setActiveMultiple,l=i.resetHeaderMenu,u=i.setL2NavType,f=i.setL2Nav,b=i.setBackLink,m=i.setL2Title,p=i.setPageHeader,d=i.setL2Content;return Object(c.useEffect)((function(){l(),!t&&u("menu"),!t&&f(a.settings_nav),s({leftNav:"settings",rightNav:e}),t&&b(t),n&&m(n),p("Settings"),d(o)}),[e,n]),!0}}}]);