(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1111:function(e,t,n){},1121:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(4),o=n(2),i=n(81),c=n(784),l=n(793),s=n(12),u=n.n(s),m=n(15),d=n(5),b=n(3),f=n(135),p=n(165),g=n(129),O=n(130),y=n(260);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=function(e){if(!e||!e.editor||!e.editor.design)return!1;var t=JSON.parse(e.editor.design);return!!t&&!!t.body&&Array.isArray(t.body.rows)&&t.body.rows.length>0},E=function(){var e=Object(O.a)(y.a.campaignContent),t=e.getStateProp,n=v(e,["getStateProp"]),a=c.a.getCampaignData(),r=parseInt(a.type);return w(w({},n),{},{getEmailContent:function(){var e=parseInt(t("currentEmail")),n=t("data");return n&&e in n?n[e]:{}},getCurrentEmail:function(){return parseInt(t("currentEmail"))},getEmails:function(){return t("emails")},getAllEmailContent:function(){return t("data")},getShowValidationFlag:function(){return t("showValidation")},emailsValidToSubmit:function(){var e=t("data");return!!t("emails").map((function(t){var n=e[t];if(!n)return!1;var a=!!n.utmEnabled,o=n.utm?n.utm:{},i={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:h(n),type:1!==r||n.type&&n.type.length>0,utmSource:!a||o.source&&o.source.length>0,utmMedium:!a||o.medium&&o.medium.length>0};return!!Object.keys(i).map((function(e){return i[e]})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e&&t}),!0)&&e},getValidEmails:function(){var e=t("data"),n=t("emails"),a={};return n.map((function(t){var n=e[t];if(n){var o=!!n.utmEnabled,i=n.utm?n.utm:{},c={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:h(n),type:1!==r||n.type&&n.type.length>0,utmSource:!o||i.source&&i.source.length>0,utmMedium:!o||i.medium&&i.medium.length>0};a[t]=!!Object.keys(c).map((function(e){return c[e]})).reduce((function(e,t){return e&&t}),!0)}})),a},getEmailsToSubmit:function(){var e=t("data");return t("emails").map((function(t){var n=e[t];return n||!1})).filter(Boolean)},getCurrentEmailIndex:function(){var e=parseInt(t("currentEmail")),n=t("emails");return Array.isArray(n)&&n.includes(e)?n.indexOf(e):1},validateCurrentEmail:function(){var e=t("data"),n=parseInt(t("currentEmail"));if(!e||!e[n])return!1;var a=e[n];if(a){var o=!!a.utmEnabled,i=a.utm?a.utm:{};return{subject:1!==r||a.subject&&a.subject.length>0,content:"editor"!==a.type?a.body&&a.body.length>0:h(a),type:1!==r||a.type&&a.type.length>0,utmSource:!o||i.source&&i.source.length>0,utmMedium:!o||i.medium&&i.medium.length>0}}},getSmartSendSettings:function(){return t("smartSend")},getSaveContentStatus:function(){return t("saveContentStatus")},getSendTestEmailStatus:function(){return t("sendTestEmailStatus")},getUploadImageStatus:function(){return t("uploadImageStatus")},getUploadImageURL:function(){return t("uploadImageURL")}})};function S(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I=function(){var e,t,n=Object(g.a)(y.a.campaignContent),a=n.fetch,r=n.setStateProp,o=A(n,["fetch","setStateProp"]),i=E(),l=i.getAllEmailContent,s=i.getCurrentEmail,m=i.getEmails,f=i.getSmartSendSettings,p=i.getCurrentEmailIndex,O=i.getEmailsToSubmit,j=i.getEmailContent,w=l(),_=s(),v=p(),h=m(),C=f(),T=j(),I=O(),x=c.a.getCampaignId(),N=c.a.getCampaignData().type,M=function(e){return"type"in e?e:P(P({},e),{},{type:"rich"})};return P(P({},o),{},{setEmailContentByKey:function(e,t){var n=M(_ in w?P(P({},w[_]),{},$({},e,t)):$({},e,t)),a=P(P({},w),{},$({},_,n));r("data",a)},setEmailUtmByKey:function(e,t){var n=M(_ in w?P({},w[_]):{}),a="utm"in n?P(P({},n.utm),{},$({},e,t)):$({},e,t),o=P(P({},w),{},$({},_,P(P({},n),{},{utm:P(P({},a),{},$({},e,t))})));r("data",o)},setMultipleUtm:function(e){if(e){var t=M(_ in w?P({},w[_]):{}),n=P(P({},w),{},$({},_,P(P({},t),{},{utm:P(P({},t.utm),e)})));r("data",n)}},setCurrentEmail:function(e){h.includes(e)&&r("currentEmail",e)},addEmail:function(){if(Array.isArray(h)&&h.length<3){var e=Math.max.apply(Math,k(h))+1;r("emails",[].concat(k(h),[e])),r("currentEmail",e),r("showValidation",!1),r("data",P(P({},w),{},$({},e,h[0]in w?w[h[0]]:{})))}},showValidation:function(e){return r("showValidation",e)},deleteEmail:function(e){if(h.length>1){var t=h.filter((function(t){return t!==e}));r("emails",t),r("currentEmail",t[t.length-1])}},initContent:function(e,t){if(!Array.isArray(e)||0===Object(b.size)(e))return r("data",{1:{}}),r("emails",[1]),void r("currentEmail",1);var n={};for(var a in e){var o=parseInt(a)+1;n[o]=w[o]?P(P({},M(w[o])),e[a]):e[a]}r("data",n),r("emails",Object.keys(n).map((function(e){return parseInt(e)}))),t&&0!==Object.keys(t).length&&r("smartSend",t)},fetchCurrentMailEditorContent:function(){a("GET",Object(d.k)("/broadcast/".concat(x,"/content/").concat(v)),{},{email:_})},sendTestEmail:(e=regeneratorRuntime.mark((function e(t,n){var a,o,i,c,l,s,m,f,p,g,O,y,j,w,_,v,h,E=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=E.length>2&&void 0!==E[2]?E[2]:"",o=E.length>3&&void 0!==E[3]?E[3]:"",i=E.length>4&&void 0!==E[4]?E[4]:"",c="",l="",s="rich",m="",T&&(f=T.body?T.body:"",p=T.editor?T.editor:{},g=p.body?p.body:"",s=T.type?T.type:s,c="editor"===s?g:f,l=T.subject?T.subject:"Autonami - Test email subject",m=T.preheader?T.preheader:""),O=o||c,y=a||l,j=i||s,w="",_={},1==N?(w=Object(d.k)("/send-test-email"),_={email:t,content:{subject:y,body:O,type:j,preheader:m,mail_data:n}}):2==N?(n.reply_to,n.senders_email,n.senders_name,v=A(n,["reply_to","senders_email","senders_name"]),w=Object(d.k)("/send-test-sms"),_={phone:t,sms_body:O,sms_data:v}):3==N&&(n.reply_to,n.senders_email,n.senders_name,h=A(n,["reply_to","senders_email","senders_name"]),w=Object(d.k)("/send-test-whatsapp-message"),_={phone:t,sms_body:T,sms_data:h}),Object(b.isEmpty)(_)||Object(b.isEmpty)(w)||u()({method:"POST",path:w,data:_}).then((function(e){200===e.code&&e.message?r("sendTestEmailStatus",2):r("sendTestEmailStatus",3)}));case 15:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){S(o,a,r,i,c,"next",e)}function c(e){S(o,a,r,i,c,"throw",e)}i(void 0)}))},function(e,n){return t.apply(this,arguments)}),setSmartSendByKey:function(e,t){return r("smartSend",P(P({},C),{},$({},e,t)))},saveBroadcastContent:function(e){r("saveContentStatus",1);var t=Array.isArray(e)&&e.length>0?e:I,n={content:JSON.stringify(t),saveBroadcastContent:!0};u()({method:"POST",path:Object(d.k)("/broadcast/".concat(x,"/save-content")),data:n}).then((function(){return r("saveContentStatus",2)}))},uploadImage:function(e){if(e){r("uploadImageStatus",1);var t=new FormData;t.append("image",e),a("POST",Object(d.k)("/upload-image"),t,{uploadImage:!0,isFormData:!0})}},resetSaveContentStatus:function(){return r("saveContentStatus",null)},resetSendTestEmailStatus:function(){return r("sendTestEmailStatus",null)},resetUploadImageStatus:function(){r("uploadImageStatus",null),r("uploadImageStatusURL","")},overrideCurrentContent:function(e){var t=M(_ in w?P({},w[_]):{}),n=P(P({},w),{},$({},_,P(P({},t),e)));r("data",n)}})},x=n(43);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var B=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},D=function(e){var t=I().sendTestEmail,n=(0,E().getSendTestEmailStatus)(),r=N(Object(a.useState)("http://app.getautonami.com"),2),i=r[0],c=r[1],l=Object(a.useRef)();Object(a.useEffect)((function(){l.current=e}),[e]);var s=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"send_test_email"===e.data.action&&e.data.token===B.editor_nonce&&e.data.data){var n=e.data.data,a=n.email,r=n.body,i=n.subject,s=void 0===i?"":i;a&&r&&(c(e.origin),t(a,l.current,s||Object(o.__)("Autonami - Test email subject","wp-marketing-automations"),r))}};return Object(a.useEffect)((function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}}),[]),Object(a.useEffect)((function(){if(n&&1!==n){var e=2===n,t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:B.editor_nonce,action:"send_test_email",data:{isSent:e}},i)}}),[n]),!0};function U(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var V=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},H=function(e){var t=I().saveBroadcastContent,n=E(),r=n.getSaveContentStatus,o=n.getEmailsToSubmit,i=n.getCurrentEmailIndex,c=r(),l=o(),s=i(),u=Object(a.useRef)(l),m=Object(a.useRef)(s);Object(a.useEffect)((function(){u.current=l,m.current=s}),[l,s]);var d=R(Object(a.useState)("http://app.getautonami.com"),2),b=d[0],f=d[1],p=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"save_design"===e.data.action&&e.data.token===V.editor_nonce&&e.data.data){var n=e.data.data,a=n.body,r=n.design;if(a&&r){f(e.origin);var o=U(u.current);o[m.current].editor={body:a,design:r},t(o)}}};return Object(a.useEffect)((function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}}),[]),Object(a.useEffect)((function(){if(c&&1!==c&&e){var t=2===c,n=document.getElementById("bwf_email_editor_frame");n&&n.contentWindow.postMessage({token:V.editor_nonce,action:"save_design",data:{isSaved:t}},b)}}),[c]),!0};function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},z=function(){var e=W(Object(a.useState)("http://app.getautonami.com"),2),t=e[0],n=e[1],r=function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"wp_image_upload"===e.data.action&&e.data.token===G.editor_nonce&&e.data.data&&(n(e.origin),u())},i=Object(a.useRef)(),c=W(Object(a.useState)(""),2),l=c[0],s=c[1],u=function(){if(!wp||!wp.media)return"";i.current||(i.current=wp.media({title:Object(o.__)("Select or Upload Media","wp-marketing-automations"),button:{text:"Select Image"},multiple:!1}),i.current.on("select",(function(){var e=i.current.state().get("selection").first().toJSON();s(e.url)}))),i.current.open()};return Object(a.useEffect)((function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}),[]),Object(a.useEffect)((function(){if(l){var e=document.getElementById("bwf_email_editor_frame");e&&e.contentWindow.postMessage({token:G.editor_nonce,action:"wp_image_upload",data:{isUploaded:!0,imageURL:l}},t)}}),[l]),!0},q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Z=function(e){var t=(0,E().getEmailContent)(),n=Object(a.useRef)(),r=Object(a.useRef)();Object(a.useEffect)((function(){n.current=t,r.current=function(e){var t={};for(var n in e){var a=e[n];if(a){var r={};for(var o in a)r[o]={name:a[o],value:"{{".concat(o,"}}")};var i="";switch(n){case"contact":i="Contact";break;case"contact_fields":i="Fields";break;case"general":i="General"}t[n]={name:i,mergeTags:r}}}return t}(e)}),[t,e]);var o=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"get_design"===e.data.action&&e.data.token===q.editor_nonce){var t=n.current&&n.current.editor&&n.current.editor.design?n.current.editor.design:'{"counters":{"u_row":1,"u_column":1,"u_content_text":2,"u_content_html":1},"body":{"id":"aganNFUgXP","rows":[{"id":"d20s_bFhRJ","cells":[1],"columns":[{"id":"pKKIH65yGq","contents":[{"id":"krnNqOxu8e","type":"text","values":{"containerPadding":"10px","anchor":"","textAlign":"left","lineHeight":"140%","linkStyle":{"inherit":true,"linkColor":"#0000ee","linkHoverColor":"#0000ee","linkUnderline":true,"linkHoverUnderline":true},"hideDesktop":false,"displayCondition":null,"_meta":{"htmlID":"u_content_text_1","htmlClassNames":"u_content_text"},"selectable":true,"draggable":true,"duplicatable":true,"deletable":true,"hideable":true,"text":"<p style=\\"font-size: 14px; line-height: 140%;\\">Hi {{contact_first_name}},</p>"}},{"id":"prNf4ZmVQf","type":"html","values":{"html":"<p><span style=\\"font-size: 14pX; font-family: arial, helvetica, sans-serif;\\">{{business_name}}, {{business_address}}</span><br /><span style=\\"font-size: 10pt; font-family: arial, helvetica, sans-serif;\\">Don\'t want to stay in the loop? We\'ll be sad to see you go, but you can click here to <a href=\\"{{unsubscribe_link}}\\">unsubscribe</a></span></p>","hideDesktop":false,"displayCondition":null,"containerPadding":"10px","anchor":"","_meta":{"htmlID":"u_content_html_1","htmlClassNames":"u_content_html"},"selectable":true,"draggable":true,"duplicatable":true,"deletable":true,"hideable":true}}],"values":{"_meta":{"htmlID":"u_column_1","htmlClassNames":"u_column"},"border":{},"padding":"0px","backgroundColor":""}}],"values":{"displayCondition":null,"columns":false,"backgroundColor":"","columnsBackgroundColor":"","backgroundImage":{"url":"","fullWidth":true,"repeat":false,"center":true,"cover":false},"padding":"0px","anchor":"","hideDesktop":false,"_meta":{"htmlID":"u_row_1","htmlClassNames":"u_row"},"selectable":true,"draggable":true,"duplicatable":true,"deletable":true,"hideable":true,"hideMobile":false,"noStackMobile":false}}],"values":{"popupPosition":"center","popupWidth":"600px","popupHeight":"auto","borderRadius":"10px","contentAlign":"center","contentVerticalAlign":"center","contentWidth":"500px","fontFamily":{"label":"Arial","value":"arial,helvetica,sans-serif"},"textColor":"#000000","popupBackgroundColor":"#FFFFFF","popupBackgroundImage":{"url":"","fullWidth":true,"repeat":false,"center":true,"cover":true},"popupOverlay_backgroundColor":"rgba(0, 0, 0, 0.1)","popupCloseButton_position":"top-right","popupCloseButton_backgroundColor":"#DDDDDD","popupCloseButton_iconColor":"#000000","popupCloseButton_borderRadius":"0px","popupCloseButton_margin":"0px","popupCloseButton_action":{"name":"close_popup","attrs":{"onClick":"document.querySelector(\'.u-popup-container\').style.display = \'none\';"}},"backgroundColor":"#e7e7e7","backgroundImage":{"url":"","fullWidth":true,"repeat":false,"center":true,"cover":false},"linkStyle":{"body":true,"linkColor":"#0000ee","linkHoverColor":"#0000ee","linkUnderline":true,"linkHoverUnderline":true},"_meta":{"htmlID":"u_body","htmlClassNames":"u_body"},"preheaderText":""}},"schemaVersion":8}',a=document.getElementById("bwf_email_editor_frame");a&&a.contentWindow.postMessage({token:q.editor_nonce,action:"get_design",data:{gotDesign:!0,json:t,subject:n.current&&n.current.subject?n.current.subject:"",mergeTags:r.current,enableLinkTrigger:!0}},e.origin)}};return Object(a.useEffect)((function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}}),[]),!0},J=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Y=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"open_merge_tags"===t.data.action&&t.data.token===J.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},Q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},X=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"close_editor"===t.data.action&&t.data.token===Q.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},ee=n(313),te=n(8);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var re=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},oe=function(){return Object(a.createElement)("div",{className:"bwf-c-save-content-loading"},Object(a.createElement)(x.a,null),Object(a.createElement)("h3",null,Object(o.__)("Loading Visual Builder","wp-marketing-automations")))},ie=function(e){var t=e.iframeRef,n=e.editorSrc;return Object(a.createElement)("iframe",{ref:t,title:Object(o.__)("Email Editor","wp-marketing-automations"),src:n,id:"bwf_email_editor_frame",style:{width:"100%",height:"100%"}})},ce=function(e){var t=ne(Object(a.useState)(!1),2),n=t[0],i=t[1],c=e.broadcastId,l=e.contentNumber,s=e.openMergeTags,u=e.mailData,m=e.mergeTags,d=e.openLinkTrigger,b=re.license,f=re.editor_nonce,p=re.url,g=I(),O=g.fetchCurrentMailEditorContent,y=g.saveBroadcastContent,j=g.resetSaveContentStatus,w=E().getSaveContentStatus(),_=ne(Object(a.useState)(!1),2),v=_[0],h=_[1];Object(a.useEffect)((function(){v||2!==w&&3!==w||(h(!0),j())}),[w]);var S=Object(a.useCallback)((function(){i(!1),O()}));Z(m||[]),D(u),H(v),z(),Y(s),X(S),Object(ee.a)(d);var k="//app.getautonami.com/get/".concat(b,"/").concat(f,"/").concat(p,"/crm.broadcast.").concat(c,".content.").concat(l),C=Object(a.useRef)();return Object(a.useEffect)((function(){n?(y(),document.body.classList.add("bwf-c-modal-open")):(h(!1),document.body.classList.remove("bwf-c-modal-open"))}),[n]),Object(a.createElement)(a.Fragment,null,n&&Object(a.createElement)("div",{className:"bwf-c-editor-modal-wrapper"},Object(a.createElement)("div",{className:"bwf-c-editor-modal bwf-c-editor-modal-full-width"},!v&&Object(a.createElement)(oe,null),!!v&&Object(a.createElement)(ie,{iframeRef:C,editorSrc:k}))),Object(a.createElement)("div",{className:"bwf-c-editor-button-wrapper"},Object(a.createElement)(te.a,{icon:"launch-editor",size:50}),Object(a.createElement)("div",{className:"bwf-h1"},"Launch Editor"),Object(a.createElement)("div",{className:"bwf-h5"},"Visually get email with drop & drop builder"),Object(a.createElement)(r.Button,{isSecondary:!0,onClick:function(){return i(!0)}},Object(o.__)("Start","wp-marketing-automations"))))},le=n(143),se=n(845);function ue(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var be=function(e){var t=e.setPreview,n=e.content,i=e.type,c=me(Object(a.useState)(""),2),l=c[0],s=c[1],m=me(Object(a.useState)(!0),2),b=m[0],f=m[1];Object(a.useEffect)((function(){p()}),[]);var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return s(""),f(!1),e.abrupt("return");case 4:return e.prev=4,t={content:n,type:i},e.next=8,u()({path:Object(d.k)("/broadcast/email-preview"),method:"POST",data:t}).then((function(e){s(e.result.body.replace(/\\/g,"")),f(!1)}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ue(o,a,r,i,c,"next",e)}function c(e){ue(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.createElement)(r.Modal,{onRequestClose:function(){return t(!1)},className:"bwf-admin-modal bwf-admin-modal-xxxl bwf-h--core-header"},Object(a.createElement)("div",{className:"bwf-modal-header"},Object(a.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Preview","wp-marketing-automations")),Object(a.createElement)("span",{onClick:function(){return t(!1)},className:"bwf-modal-close"},Object(a.createElement)(te.a,{icon:"close",color:"#353030"}))),b?Object(a.createElement)(x.a,null):Object(a.createElement)("div",{dangerouslySetInnerHTML:{__html:l}}))},fe=n(314),pe=n(155),ge=function(e){var t=e.enable,n=e.position,i=e.imageURL,c=e.setData;return Object(a.createElement)("div",{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Image Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:t,onChange:function(e){return c("enable",e)}}),t&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.RadioControl,{className:"bwfcrm-inline-option",selected:n,label:Object(o.__)("Select Image Position","wp-marketing-automations"),options:[{value:"after",label:Object(o.__)("After","wp-marketing-automations")},{value:"before",label:Object(o.__)("Before","wp-marketing-automations")}],onChange:function(e){return c("position",e)}}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(pe.a,{image:i?{url:i}:"",onChange:function(e){!Object(b.isNull)(e)&&e.hasOwnProperty("url")?c("imageURL",e.url):c("imageURL","")}})))},Oe=n(166),ye=n(64);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ee=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Se=function(){var e=ve(Object(a.useState)(!1),2),t=e[0],n=e[1],r=ve(Object(a.useState)(!1),2),o=r[0],i=r[1],c=Object(ye.a)(Object(d.U)()).formatAmount,l=Object(a.useCallback)((function(e){var t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:Ee.editor_nonce,action:"select_product_for_tool",data:{product:we(we({},e),{},{formattedPrice:c(e.price)})}},o),n(!1)}),[o]),s=Object(a.useCallback)((function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"select_product_for_tool"===e.data.action&&e.data.token===Ee.editor_nonce&&(i(e.origin),n(!0))}),[n]);return Object(a.useEffect)((function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}}),[]),t&&Object(a.createElement)(Oe.a,{onRequestClose:function(){return n(!1)},onProductSelected:l})},ke=n(273),Ce=n(6),Te=n.n(Ce);function Pe(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Me=Object(d.V)(),Be=[{label:Object(o.__)("Rich Text","wp-marketing-automations"),value:"rich",templateIcon:"rich-text",className:"bwf-display-flex bwf-campaign-template-type "},Me.includes("wc")&&{label:Object(o.__)("WooCommerce","wp-marketing-automations"),value:"wc",templateIcon:"woocommerce",className:"bwf-display-flex bwf-campaign-template-type "},{label:Object(o.__)("Raw HTML","wp-marketing-automations"),value:"html",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"},{label:Object(o.__)("Visual Builder","wp-marketing-automations"),value:"editor",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"}].filter(Boolean),De=function(e){var t=e.maildata,n=e.setTemplateModal,l=c.a.getCampaignData(),s=parseInt(l.type),u=Object(d.q)(),m=I(),g=m.setEmailContentByKey,O=m.setEmailUtmByKey,y=m.setMultipleUtm,j=m.sendTestEmail,w=m.resetSendTestEmailStatus,_=E(),v=_.getEmailContent()?_.getEmailContent():{},h="utm"in v?v.utm:{},S=xe(Object(a.useState)(!1),2),k=S[0],C=S[1],T=xe(Object(a.useState)(""),2),P=T[0],$=T[1],A="subject"in v?v.subject:"",x="preheader"in v?v.preheader:"",N="type"in v?v.type:"rich",M="utmEnabled"in v&&v.utmEnabled,B=xe(Object(a.useState)({message:"",type:1}),2),D=B[0],U=B[1],R="whatsAppImage"in v&&v.whatsAppImage,F="whatsAppImageSetting"in v?v.whatsAppImageSetting:{},L="position"in F?F.position:"after",V="imageURL"in F?F.imageURL:"",H="source"in h?h.source:"",W="medium"in h?h.medium:"",K="name"in h?h.name:"",G="content"in h?h.content:"",z="term"in h?h.term:"",q=xe(Object(a.useState)(!1),2),Z=q[0],J=q[1],Y=xe(Object(a.useState)(!1),2),Q=Y[0],X=Y[1],ee=_.getShowValidationFlag(),ne=xe(Object(a.useState)(!1),2),ae=ne[0],re=ne[1],oe=xe(Object(a.useState)("content"),2),ie=oe[0],ue=oe[1],me=xe(Object(a.useState)([]),2),de=me[0],pe=me[1],Oe=xe(Object(a.useState)(!1),2),ye=Oe[0],je=Oe[1],we=_.getCurrentEmailIndex(),_e=v&&v.body?v.body:"",ve="editor"in v?v.editor:{},he=ve&&ve.body?ve.body:"",Ee="editor"===N?he:_e,Ce="</p>Hi {{contact_first_name}},</p><p></p>"+bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;Object(a.useEffect)((function(){Object(b.isEmpty)(_e)&&g("body",1==s?Ce:"Hi {{contact_first_name}},")}),[_e]);var $e=M?Ae(Ae({},t),{},{utmName:K,utmMedium:W,utmContent:G,utmSource:H,utmTerm:z}):t;Object(a.useEffect)((function(){if(M){var e={};!H&&(e.source=Object(o.__)("Newsletter","wp-marketing-automations")),!W&&(e.medium=u[s].label),!K&&(e.name=Object(b.trim)(l.title).replace(/\s/g,"-")),y(e)}}),[M]);var Ie=_.validateCurrentEmail(),Ne={1:Object(o.__)("Place your HTML here","wp-marketing-automations"),2:Object(o.__)("Enter the SMS Body","wp-marketing-automations"),3:Object(o.__)("Place your message here","wp-marketing-automations")},Me={1:Object(o.__)("Send Test Email","wp-marketing-automations"),2:Object(o.__)("Send Test SMS","wp-marketing-automations"),3:Object(o.__)("Send Test Message","wp-marketing-automations")},De=(Object(o.__)("Send Email","wp-marketing-automations"),Object(o.__)("Send SMS","wp-marketing-automations"),Object(o.__)("Send Message","wp-marketing-automations"),function(){return"editor"==v.type?v.hasOwnProperty("editor")&&v.editor.hasOwnProperty("body")?v.editor.body:"":v.body}),Ue=_.getSendTestEmailStatus();Object(a.useEffect)((function(){null!==Ue&&setTimeout((function(){w(),U({message:"",type:1})}),2e3),2===Ue&&U({message:1==s?Object(o.__)("Test email sent","wp-marketing-automations"):Object(o.__)("Test message sent","wp-marketing-automations"),type:1}),3===Ue&&U({message:1==s?Object(o.__)("Unable to send mail","wp-marketing-automations"):Object(o.__)("Unable to send message","wp-marketing-automations"),type:1})}),[Ue]);var Re=ee&&!Ie.subject?" bwf-field-error":"",Fe=ee&&!Ie.content?" bwf-field-error-textarea":"",Le=ee&&!Ie.utmSource?" bwf-field-error":"",Ve=ee&&!Ie.utmMedium?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Card,{className:"bwf-c-campaign-body"},1===s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.TextControl,{value:A,onChange:function(e){return g("subject",e)},label:Object(o.__)("Subject","wp-marketing-automations"),placeholder:Object(o.__)("Enter subject","wp-marketing-automations"),className:"bwf-field-m0"+Re}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-campaign-mail-headers-wrap"},Object(a.createElement)(r.TextControl,{value:x,placeholder:Object(o.__)("Enter preview text","wp-marketing-automations"),label:Object(o.__)("Preview Text","wp-marketing-automations"),onChange:function(e){return g("preheader",e)}})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-p"},Object(o.__)("Template Type","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-select-template-type"},Be.map((function(e){return Object(a.createElement)("label",{key:e.value,className:Te()({"is-selected":N===e.value})},Object(a.createElement)("input",{type:"radio",value:e.value,onChange:function(){m.showValidation(!1),g("type",e.value)},checked:N===e.value&&"checked"}),Object(a.createElement)("span",null,e.label))}))),Object(a.createElement)("div",{className:"bwf_clear_16"}),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.Flex,{gap:3,justify:"flex-start"},"editor"!==N&&Object(a.createElement)(r.FlexItem,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none",onClick:function(){ue("content"),re(!0)}},Object(a.createElement)(te.a,{icon:"merge-tag",size:16}),Object(o.__)("Merge Tags","wp-marketing-automations"))),Object(a.createElement)(r.FlexItem,null,Object(a.createElement)("div",null,Object(a.createElement)(ke.a,{canCreate:!0,isLinkTriggerOpen:ye,setLinkTriggerOpen:je,modelOpenContent:Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none"},Object(a.createElement)(te.a,{icon:"link-trigger",size:16}),Object(o.__)("Link Triggers","wp-marketing-automations")),hideButton:"editor"===N}))))),Object(a.createElement)(r.FlexItem,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",onClick:function(){return n(!0)}},Object(a.createElement)(te.a,{icon:"templates",size:16}),Object(o.__)("Templates","wp-marketing-automations")))))),Object(a.createElement)("div",{className:"bwf_clear_16"}),Object(a.createElement)("div",{className:Fe},1===s&&("rich"===N||"wc"===N)&&Object(a.createElement)(p.a,{content:Ee,keyid:"bwf-campaign-email-editor",setContent:function(e){return g("body",e)}}),("html"===N||2===s||3===s)&&Object(a.createElement)(r.TextareaControl,{value:Ee,onChange:function(e){return g("body",e)},placeholder:Ne[s],rows:[2,3].includes(s)?5:24,className:"bwf-email-raw-html"}),"editor"===N&&Object(a.createElement)(ce,{broadcastId:l.id,contentNumber:parseInt(we),openMergeTags:function(){return re(!0)},mailData:$e,mergeTags:de,openLinkTrigger:je})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexItem,null,"editor"!==N&&3!==s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("a",{className:"bwf-a-no-underline",onClick:function(e){e.preventDefault(),ue("content");var t=2===s?bwfanParams.bwfan_global_settings.bwfan_sms_unsubscribe_text:bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;g("body","".concat(Ee||""," \n").concat(t))}},Object(o.__)("Add Unsubscribe Text","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"})))),Object(a.createElement)(r.Flex,null,Object(a.createElement)("div",{className:"bwf-display-flex gap-12"},1==s&&Object(a.createElement)(fe.a,{templateData:v,type:1,checkIfValid:function(){return!!Ie.subject||(m.showValidation(!0),!1)}}),Object(a.createElement)("div",null,Object(a.createElement)(r.Button,{className:"bwf-big-button",isSecondary:!0,onClick:function(){C(!0)}},Me.hasOwnProperty(s)?Me[s]:Object(o.__)("Send Test Email","wp-marketing-automations")),k&&Object(a.createElement)(r.Popover,{className:"bwf-campaign-test-mail-popup",onFocusOutside:function(){C(!1)},onClick:function(e){return e.stopPropagation()},focusOnMount:"no-focus"},Object(a.createElement)("div",{className:"bwf-campaign-test-mail-wrap"},Object(a.createElement)("div",{className:"bwf-p",style:{marginBottom:"16px"}},Object(a.createElement)(r.TextControl,{value:P,onChange:function(e){return $(e)},placeholder:1==s?Object(o.__)("Enter email address","wp-marketing-automations"):Object(o.__)("Enter phone no.","wp-marketing-automations")})),Object(a.createElement)(r.Button,{isPrimary:!0,isBusy:Q,onClick:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),X(!0),a=void 0,a=!1,!(Object(b.isEmpty)(P)||![2,3].includes(s)&&!Object(i.a)(P)||[2,3].includes(s)&&!Object(se.a)(P))&&Ie.content&&Ie.type&&Ie.utmMedium&&Ie.utmSource||(a=!0),a){e.next=7;break}return e.next=5,j(P,$e,"","").then((function(){setTimeout((function(){X(!1),C(!1)}),1e3)}));case 5:e.next=13;break;case 7:n="",Object(b.isEmpty)(P)&&(n=[2,3].includes(s)?Object(o.__)("Phone is required field.","wp-marketing-automations"):Object(o.__)("Email is required field.","wp-marketing-automations")),Object(b.isEmpty)(n)&&([2,3].includes(s)?Object(se.a)(P)||(n=Object(o.__)("Entered phone is not valid.","wp-marketing-automations")):Object(i.a)(P)||(n=Object(o.__)("Entered email is not valid.","wp-marketing-automations"))),Object(b.isEmpty)(n)&&!Ie.content&&(n=Object(o.__)("Content is required field.","wp-marketing-automations")),U({message:n,type:2}),X(!1);case 13:case"end":return e.stop()}var a}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Pe(o,a,r,i,c,"next",e)}function c(e){Pe(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()},Object(o.__)("Send","wp-marketing-automations"))))),1==s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-big-button",onClick:function(){Object(b.isEmpty)(De())?U({message:"No content available for preview.",status:2}):J(!0)}},Object(o.__)("Show Preview","wp-marketing-automations")),Z&&Object(a.createElement)(be,{setPreview:J,content:De(),type:N})))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.CheckboxControl,{checked:M,label:Object(o.__)("Automatically append UTM parameters to email links","wp-marketing-automations"),className:"bwf-crm-campaign-third-step-utm",onChange:function(e){return g("utmEnabled",e)}}),M&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_10"}),Object(a.createElement)("div",{className:"bwf-campaign-utm-section"},Object(a.createElement)(r.TextControl,{value:H,onChange:function(e){return O("source",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Source","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM source","wp-marketing-automations"),help:Object(o.__)("Referrer: (e.g., google, newsletter)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Le}),Object(a.createElement)(r.TextControl,{value:W,onChange:function(e){return O("medium",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Medium","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM medium","wp-marketing-automations"),help:Object(o.__)("Marketing medium: (e.g., CPC, banner, email)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Ve}),Object(a.createElement)(r.TextControl,{value:K,onChange:function(e){return O("name",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM name","wp-marketing-automations"),help:Object(o.__)("Product, promo code, or slogan (e.g., spring_sale)","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:z,onChange:function(e){return O("term",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Term","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM term","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:G,onChange:function(e){return O("content",e.replace(/\s/g,"+"))},label:Object(o.__)("Campaign Content","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM content","wp-marketing-automations"),className:"bwf-field-comp-label-content"}))),3==s&&Object(a.createElement)(ge,{enable:R,position:L,imageURL:V,setData:function(e,t){if("enable"==e)g("whatsAppImage",t);else if(["position","imageURL"].includes(e)){var n={position:L,imageURL:V};n[e]=t,g("whatsAppImageSetting",n)}}}),Object(a.createElement)(f.a,{message:D.message,type:D.type,removeMessage:function(){return U({message:"",type:1})}})),Object(a.createElement)(le.a,{isOpen:ae,setOpenTags:re,onMergeTagSelected:function(e){"subject"===ie&&g("subject","".concat(A||""," ").concat(e)),"content"===ie&&g("body","".concat(Ee||""," ").concat(e)),re(!1)},onMergeTagsLoaded:function(e){return pe(e)}}),Object(d.qb)()&&Object(a.createElement)(Se,null))},Ue=n(328),Re=(n(1111),n(63)),Fe=function(e){var t=I(),n=E(),i=n.getSmartSendSettings(),c=i.enable,l=i.percent,s=i.hours,u=t.setSmartSendByKey,m=n.getShowValidationFlag(),d=n.getEmails();return Array.isArray(d)&&d.length>1?Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf-h4"},Object(o.__)("Smart Sending","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Smart Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:c,onChange:function(e){return u("enable",e)}}),c&&parseInt(l)>0&&parseInt(s)>0&&Object(a.createElement)("div",null,Object(o.sprintf)(Object(o.__)("This broadcast will be sent to %d percent of your contacts. After %d hours, open rates of all the variants would be analyzed and the one with the most opens would be sent to the remaining contacts.","wp-marketing-automations"),parseInt(l),parseInt(s))),c&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.TextControl,{type:"number",value:l,onChange:function(e){return u("percent",e)},label:Object(o.__)("Sample size (in percent)","wp-marketing-automations"),placeholder:Object(o.__)("Enter percent","wp-marketing-automations"),className:Te()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(l)})}),Object(a.createElement)(r.TextControl,{type:"number",value:s,onChange:function(e){return u("hours",e)},label:Object(o.__)("Wait time (in hours)","wp-marketing-automations"),placeholder:Object(o.__)("Enter hour difference","wp-marketing-automations"),className:Te()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(s)})}))):null};function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var He="ABCDEFGHIJKLMNOPQRSTUVWXYZ",We=function(e){var t=e.mailData,n=e.unsubscribeLink,i=e.errMsg,l=I(),s=E(),u=l.setCurrentEmail,m=l.addEmail,f=l.showValidation,p=l.deleteEmail,g=l.overrideCurrentContent,O={1:Object(o.__)("Email","wp-marketing-automations.crm"),2:Object(o.__)("SMS","wp-marketing-automations.crm"),3:Object(o.__)("WhatsApp","wp-marketing-automations.crm")},y=Le(Object(a.useState)(!1),2),j=y[0],w=y[1],_=s.getEmails(),v=s.getCurrentEmail(),h=s.getSmartSendSettings(),S=s.emailsValidToSubmit(),k=s.getShowValidationFlag(),C=s.getValidEmails(),T=c.a.getCampaignData(),P=!(T&&T.data&&T.data.ab_type)||"ab"===T.data.ab_type,$=Object(a.useRef)(!1),A=Object(a.useCallback)((function(e){return Te()({active:v===e,"bwf-error-tab":!C[e]&&k})})),x=!![!h.enable||!!parseInt(h.hours)&&_.length>1,!h.enable||!!parseInt(h.percent)&&_.length>1].reduce((function(e,t){return e&&t}),!0),N=Object(a.useContext)(d.d),M=function(e){g(e),N(Object(o.__)("Template Applied Successfully.","wp-marketing-automations")),setTimeout((function(){N("")}),2e3)};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-p-gap bwf-border"},(!S||!x||!n)&&k&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Re.a,null),Object(a.createElement)(r.Notice,{className:"bwf-error-notice",status:"error",onRemove:function(){return f(!1)}},(!S||!x)&&Object(o.__)("Some required fields are not filled, check below","wp-marketing-automations"),!n&&Object(a.createElement)(a.Fragment,null,(!S||!x)&&Object(a.createElement)("br",null),Object(b.isEmpty)(i)?Object(o.__)("{{unsubscribe_link}} are required merge tags, they must be missing from the email body","wp-marketing-automations"):i))),P?Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,_.map((function(e,t){return Object(a.createElement)("li",{onClick:function(){return function(e){!$.current&&u(e),$.current=!1}(e)},className:A(e),key:"bwf-c-campaign-email-tabs-".concat(t)},Object(o.__)(0===t?"Control ":"Variant ","wp-marketing-automations")," ",t>0&&He[parseInt(t)%He.length-1],t>0&&Object(a.createElement)(r.Button,{icon:"no",onClick:function(){return function(e){$.current=!0,p(e)}(e)}}))})),_.length<3&&Object(a.createElement)("li",{className:"bwf-c-campaign-email-variant"},Object(a.createElement)(r.Button,{icon:"plus",onClick:function(){return m()}},Object(o.__)("Add Variant","wp-marketing-automations")))),1===parseInt(T.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector"},Object(a.createElement)(Ue.a,{showText:!1,openTemplate:j,setTemplateModal:w,applyTemplate:M}))):Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,Object(a.createElement)("li",{style:{borderBottom:"2px solid #0073aa"}},O.hasOwnProperty(T.type)?O[T.type]:Object(o.__)("Email","wp-marketing-automations"))),1===parseInt(T.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector bwf-display-flex"},Object(a.createElement)(Ue.a,{showText:!1,openTemplate:j,setTemplateModal:w,applyTemplate:M}))),Object(a.createElement)(De,{maildata:t,setTemplateModal:w}),Object(a.createElement)(Fe,null)))},Ke=n(127);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t,n,a,r,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(a,r)}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(e){var t=Object(m.i)(),n=Je(Object(a.useState)({message:"",type:1}),2),s=n[0],p=n[1],g=Je(Object(a.useState)([]),2),O=g[0],y=g[1],j=Je(Object(a.useState)([]),2),w=j[0],_=j[1],v=Je(Object(a.useState)(Object(d.x)("from_name")),2),h=v[0],S=v[1],k=Je(Object(a.useState)(Object(d.x)("from_email")),2),C=k[0],T=k[1],P=Je(Object(a.useState)(Object(d.x)("reply_to_email")),2),$=P[0],A=P[1],x=Je(Object(a.useState)(""),2),N=x[0],M=x[1],B=Object(l.a)().setCampaignValues,D=c.a.getCampaignId(),U=c.a.getCampaignData(),R=parseInt(U.type);Object(a.useEffect)((function(){U&&!Object(b.isNull)(U.data)&&(U.data.hasOwnProperty("content")&&!Object(b.isEmpty)(U.data.content)?y(U.data.content):y(1==R?[{subject:"",preheader:"",type:"rich",body:"",utm:{}}]:[{body:"",utm:{}}]),U.data.hasOwnProperty("senders_name")&&S(U.data.senders_name),U.data.hasOwnProperty("senders_email")&&T(U.data.senders_email),U.data.hasOwnProperty("replyto")&&!Object(b.isEmpty)(U.data.replyto)&&A(U.data.replyto))}),[]);var F=Object(Ke.a)().setL2Title;Object(a.useEffect)((function(){F("title"in U?Object(a.createElement)(a.Fragment,null,U.title):"")}),[U]);var L={name:1!==R||null===h||h.length>0,email:1!==R||null===C||Object(i.a)(C),content:null===O||O.length>0},V=E(),H=V.emailsValidToSubmit(),W=V.getEmails(),K=V.getAllEmailContent(),G=V.getSmartSendSettings(),z=I();Object(a.useEffect)((function(){if(U&&U.data){var e=!U.data.ab_type||"ab"===U.data.ab_type,t=U.data.content?Array.isArray(U.data.content)&&!e?[U.data.content[0]]:U.data.content:[],n=U.data.smart_send&&e?U.data.smart_send:{};z.initContent(t,n)}}),[D]);var q=!![1!==R||h&&h.length>0,1!==R||C&&Object(i.a)(C),1!==R||Object(b.isEmpty)($)||$&&Object(i.a)($)].reduce((function(e,t){return e&&t}),!0),Z=!![!G.enable||!!parseInt(G.hours)&&W.length>1,!G.enable||!!parseInt(G.percent)&&W.length>1].reduce((function(e,t){return e&&t}),!0),J=function(){if(1!==R)return!0;var e=Object(d.m)();M("");var t=!1,n=[];return W.map((function(a){var r=K.hasOwnProperty(a)?K[a]:{},o="";r.hasOwnProperty("type")&&("editor"==r.type?r.hasOwnProperty("editor")&&r.editor.hasOwnProperty("body")&&(o=r.editor.body):r.hasOwnProperty("body")&&(o=r.body)),(t=(e.includes("unsubscribe_link")||o.includes("{{unsubscribe_link}}"))&&(e.includes("business_name")||o.includes("{{business_name}}"))&&(e.includes("business_address")||o.includes("{{business_address}}")))||(e.includes("unsubscribe_link")||o.includes("{{unsubscribe_link}}")||n.push("{{unsubscribe_link}}"),e.includes("business_name")||o.includes("{{business_name}}")||n.push("{{business_name}}"),e.includes("business_address")||o.includes("{{business_address}}")||n.push("{{business_address}}"))})),Object(b.isEmpty)(n)||M("The required merge tags "+n.join(", ")+(n.length>1?" are ":" is ")+" missing in the email body."),_(t),t},Y=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=J(),z.showValidation(!1),!(q&&H&&Z&&n)){t.next=17;break}return e.setPending(!0),t.prev=4,a=ze({content:W.map((function(e){return H[e]})),senders_name:h,senders_email:C,replyto:$,modified_by:Object(d.u)()},G.enable?{smart_send:{enable:G.enable,percent:G.percent,hours:G.hours}}:{}),r={content:JSON.stringify(a),step:3},t.next=9,u()({path:Object(d.k)("/broadcast/".concat(D)),method:"POST",data:r}).then((function(e){200===e.code?(B("data",e.result),B("step",4)):p({message:e.message,type:0})}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),p({message:t.t0.message,type:0});case 14:e.setPending(!1),t.next=18;break;case 17:z.showValidation(!0);case 18:case"end":return t.stop()}}),t,null,[[4,11]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(e){Ze(o,a,r,i,c,"next",e)}function c(e){Ze(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),Q=L&&!L.email?" bwf-field-error":"",X=L&&!L.name?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Re.a,null),Object(a.createElement)("div",{className:"bwf-campaign-step-div bwf-card-wrap bwf-campaign-step-3"},Object(a.createElement)("div",{className:"bwf-card-header"},Object(a.createElement)("span",{className:"bwf-form-title"},Object(o.__)("Content","wp-marketing-automations"))),1===R&&Object(a.createElement)("div",{className:"bwf-p-gap"},Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:h,onChange:S,label:Object(o.__)("From Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Name","wp-marketing-automations"),className:X}))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:C,onChange:T,label:Object(o.__)("From Email","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Email","wp-marketing-automations"),className:Q})),Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:$,placeholder:Object(o.__)("Enter Reply-To Email","wp-marketing-automations"),label:Object(o.__)("Reply-To Email","wp-marketing-automations"),onChange:A}))))),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)(We,{mailData:{reply_to:$,senders_email:C,senders_name:h},unsubscribeLink:w,errMsg:N}),Object(a.createElement)(f.a,{message:s.message,type:s.type,removeMessage:function(){return p({message:"",type:1})}})),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)("div",{className:"bwf-crm-campaign-navigation"},Object(a.createElement)(r.Button,{className:"bwf-crm-navigation-previous",isSecondary:!0,onClick:function(){var e=U.data&&!Object(b.isNull)(U.data)&&U.data.hasOwnProperty("filters")?U.data.filters:{};Object(b.isEmpty)(e)||Object(m.k)(e,"/",t),B("step",2)}},Object(o.__)("Previous","wp-marketing-automations")),Object(a.createElement)(r.Button,{isPrimary:!0,className:"bwf-crm-navigation-next",disabled:!q,onClick:Y,isBusy:e.isPending},Object(o.__)("Next","wp-marketing-automations"))))))}},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(53),r={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)(7[5-9])\d{1,7}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[689]\d{7}$/,"en-SL":/^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([3568][0-9]|4[579]|6[67]|7[01235678]|9[012356789])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};function o(e,t,n){if(Object(a.a)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(r.hasOwnProperty(t)&&r[t].test(e))return!0;return!1}));if(t in r)return r[t].test(e);if(!t||"any"===t){for(var o in r){if(r.hasOwnProperty(o))if(r[o].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}r["en-CA"]=r["en-US"],r["fr-CA"]=r["en-CA"],r["fr-BE"]=r["nl-BE"],r["zh-HK"]=r["en-HK"],r["zh-MO"]=r["en-MO"],r["ga-IE"]=r["en-IE"];Object.keys(r)}}]);