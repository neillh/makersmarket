!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=121)}({121:function(e,t,r){e.exports=r(122)},122:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}jQuery((function(e){({isUrl:function(e){return/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},init:function(){var e=this;Handlebars.registerHelper("gravatar",(function(t,r){return t=Handlebars.escapeExpression(t),e.isUrl(t)?new Handlebars.SafeString('<img src="'+t+'" class="gravatar">'):new Handlebars.SafeString('<span class="gravatar text-uppercase '+r+'">'+t+"</span>")})),Handlebars.registerHelper("image",(function(e,t){return 1===t?e.replace("_350x350.jpg","_50x50.jpg"):e.replace("_350x350.jpg","")}))}}).init();var t={list:"#ali-list-template",orders:"#ali-orders-list",notfound:"#ali-list-notfound",more:"#ali-more-template"},n={page:"#ads_page"},a={request:function(t,n,a){n=""!==n&&"object"===r(n)?window.ADS.serialize(n):n,e.ajaxQueue({url:ajaxurl,data:{action:"ads_action_orders",ads_action:t,args:n},type:"POST",dataType:"json",success:a})},listOrders:function(){this.request("list_tracking",e("#params"),this.listOrdersRender)},listOrdersRender:function(r){var n=e(t.list).html(),a=e(t.orders);r&&(r.hasOwnProperty("error")?window.ADS.notify(r.error,"danger"):(0===r.orders.length&&(n=e(t.notfound).html()),a.html(window.ADS.objTotmpl(n,r)),setTimeout(window.ADS.switchery(a),300),a.find(".pagination-menu").length&&window.ADS.createJQPagination("#"+a.attr("id"),r.total,r.ads_page)))},renderChangeStatus:function(t){if(t)if(t.hasOwnProperty("error"))window.ADS.notify(t.error,"danger");else{window.ADS.notify(t.message,"success");var r=e('[data-id="'+t.id+'"]');r.find(".gravatar").addClass(t.color),r.find(".fulfillment").addClass("status-"+t.color)}},handler:function(){var t=this,r=e(document);r.on("click","#btn-clear",(function(){e("#all-order_number").val("all").change(),e("#all-tracking_id").val("all").change(),e("#all-status").val("all").change(),e.each({ads_page:1,order_number:"all",tracking_id:"all",tracking_status:"all",status:"all",s:"",from:"",to:""},(function(t,r){e("#params").find('input[name="'+t+'"]').val(r)})),e.event.trigger({type:"datepicker:change"}),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("pagination:click",(function(r){e(n.page).val(r.page),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("datepicker:update",(function(){e(n.page).val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("click","#btn-search",(function(r){r.preventDefault();var a=e("#search").val().trim();a.length>0&&(e(n.page).val(1),e("#s").val(a),t.listOrders(),e.event.trigger({type:"changedocinfo"}))})),r.on("change","#all-order_number",(function(r){e("#order_number").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("change","#all-tracking_id",(function(r){e("#tracking_id").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("change","#all-tracking_status",(function(r){e("#tracking_status").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("change","#all-status",(function(r){e("#status").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})})),r.on("click",".js-get-tracking",(function(){e(this).find(".fa").addClass("spin");var t=e(this).data("order_number"),r=e(this).data("order_id");t&&r&&window.ADS.aliExtension.getTIPOrder(r,t)})),r.on("click","#all-sync",(function(){e(this).find(".fa").addClass("spin");var t=e("#ali-orders-list"),r=[];t.find(".order-item").each((function(t,n){var a=e(n).data("order_number");!e(n).data("tip")&&a&&(r.push(a),e('.js-get-tracking[data-order_number="'+a+'"]').find(".fa").addClass("spin"))})),r.length&&window.ADS.aliExtension.getTIPOrders(r)})),window.ADS.Dispatcher.on("adsGoogleExtension:setOrderTIP",(function(t){if(void 0!==t.orderIdStore&&void 0!==t.orderDetail.trackingNo)a.listOrders();else{var r=e("#msg-tip-error").text();window.ADS.notify(r)}}),this),window.ADS.Dispatcher.on("adsGoogleExtension:setOrdersTIP",(function(t){if(e("#all-sync .fa").removeClass("spin"),void 0!==t.ordersDetail&&t.ordersDetail.length)a.listOrders();else{var r=e("#msg-tip-error").text();window.ADS.notify(r)}}),this),window.ADS.switchery(e("#action-box"))},getTIPOrders:function(t){t.ordersIdAli&&(e.each(t.ordersIdAli,(function(t,r){e('.js-get-tracking[data-order_number="'+r+'"]').find(".fa").addClass("spin")})),window.ADS.aliExtension.getTIPOrders(t.ordersIdAli))},init:function(){this.handler(),this.listOrders()}};a.init()}))}});