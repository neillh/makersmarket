.sfbk-grid-always,
.sfbk-grid,
.sfbk-squares {
	display: grid;
	grid-auto-rows: 200px;
	grid-gap: 10px;
	margin: 2.5em 0;
	&, a {
		color: inherit;
		font: inherit;
	}
}

.sfp-blocks-products-masonry {
	column-count: 4;
	column-gap: var(--items-gap, 10px);
	line-height: 0;

	&.sfbk-mcols-5 {
		column-count: 5;
	}

	&.sfbk-mcols-3 {
		column-count: 3;
	}

	&.sfbk-mcols-2 {
		column-count: 2;
	}

	.sfp-bk-masonry-item {
		display: inline-block;
		position: relative;
		line-height: 1.6;
		margin-bottom: var(--items-gap, 10px);

		a {
			color: inherit;
		}
	}
}

.sfp-bk-masonry-item a {
	&:hover:before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;
		background: rgba(0, 0, 0, .25);
	}

	img {
		display: block;
	}

	.overlay-title &:before,
	.overlay-title-always &:before {
		display: none;
	}

	.overlay-title &:hover > span,
	.overlay-title-always & > span {
		background: rgba(0, 0, 0, .25);
	}

	> span {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		padding: .5em 1em;

		.grid-label-mid & {
			bottom: 50%;
			transform: translateY(50%);
		}

		.grid-label-top & {
			bottom: auto;
			top: 0;
		}
	}
}
.sfbk-squares {
	grid-template-areas: initial;
	grid-auto-rows: 1fr;
	[class*='sfbk-grid-i']:not(.sfbk-grid-content):after {
		content: '';
		padding-top: 100%;
		display: block;
	}
}

a[class*='sfbk-grid-i'] {
	background: center/cover;
	position: relative;

	.sfbk-grid-content {
		padding: 7px 16px;
		display: block;
		line-height: 1.6;
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		.grid-label-mid & {
			bottom: 50%;
			transform: translateY(50%);
		}

		.grid-label-top & {
			bottom: auto;
			top: 0;
		}
	}
}

.overlay-always a[class*='sfbk-grid-i']:before,
a[class*='sfbk-grid-i']:hover:before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	background: rgba(0, 0, 0, .25);
}

.overlay-title a[class*='sfbk-grid-i']:before,
.overlay-title-always a[class*='sfbk-grid-i']:before {
	display: none;
}

.overlay-title a[class*='sfbk-grid-i']:hover .sfbk-grid-content,
.overlay-title-always a[class*='sfbk-grid-i'] .sfbk-grid-content {
	background: rgba(0, 0, 0, .25);
	&:hover {
		background: rgba(0, 0, 0, .35);
	}
}

.sfbk-grid-ca {
	grid-column: 1 / -1;
}

.sfbk-grid-always {
	.sfbk-grid-r2 {
		grid-row: span 2;
	}

	.sfbk-grid-c2 {
		grid-column: span 2;
	}
}

[data-rwd="tablet"], [data-rwd="desktop"], .sfp-on-mobile {
	.sfbk-grid {
		.sfbk-grid-r2 {
			grid-row: span 2;
		}

		.sfbk-grid-c2 {
			grid-column: span 2;
		}

		.sfbk-grid-ca {
			grid-column: 1 / -1;
		}
	}

	.sfbk-gcols-2 {
		grid-template-columns: repeat(2, 1fr);
	}

	.sfbk-gcols-3 {
		grid-template-columns: repeat(3, 1fr);
	}

	.sfbk-gcols-4 {
		grid-template-columns: repeat(4, 1fr);
	}

	.sfbk-gcols-5 {
		grid-template-columns: repeat(5, 1fr);
	}

	.sfbk-grid {
		grid-template-columns: repeat(4, 1fr);
	}
}

[data-rwd="mobile"] .sfp-on-mobile {
	.sfbk-grid {
		grid-auto-rows: 70px !important;
	}
	.sfbk-grid-content {
		padding: 5px;
		font-size: calc( 5px + 1vw );
	}
}

[data-rwd="tablet"] {
	.sfbk-gcols-tab-1 {
		grid-template-columns: repeat(1, 1fr);
	}

	.sfbk-gcols-tab-2 {
		grid-template-columns: repeat(2, 1fr);
	}

	.sfbk-gcols-tab-3 {
		grid-template-columns: repeat(3, 1fr);
	}

	.sfbk-gcols-tab-4 {
		grid-template-columns: repeat(4, 1fr);
	}

	.sfp-blocks-products-masonry {
		&.sfbk-mcols-tab-1 {
			column-count: 1;
		}

		&.sfbk-mcols-tab-2 {
			column-count: 2;
		}

		&.sfbk-mcols-tab-3 {
			column-count: 3;
		}
	}
}

[data-rwd="mobile"] {
	.sfbk-gcols-mob-1 {
		grid-template-columns: repeat(1, 1fr);
	}

	.sfbk-gcols-mob-2 {
		grid-template-columns: repeat(2, 1fr);
	}

	.sfbk-gcols-mob-3 {
		grid-template-columns: repeat(3, 1fr);
	}

	.sfbk-gcols-mob-4 {
		grid-template-columns: repeat(4, 1fr);
	}

	.sfp-blocks-products-masonry {
		&.sfbk-mcols-mob-1 {
			column-count: 1;
		}

		&.sfbk-mcols-mob-2 {
			column-count: 2;
		}

		&.sfbk-mcols-mob-3 {
			column-count: 3;
		}
		span {
			font-size: .7em;
		}
	}
}


[data-rwd=tablet]  [class*='sfbk-gcols-tab-'],
[data-rwd=mobile] [class*='sfbk-gcols-mob-'] {
	.sfbk-grid-c2,
	.sfbk-grid-r2 {
		grid-column: span 1;
		grid-row: span 1;
	}
}
