!function(t){var a={};function e(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)e.d(r,i,function(a){return t[a]}.bind(null,i));return r},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=107)}({107:function(t,a,e){t.exports=e(108)},108:function(t,a){jQuery((function(t){window.adsModal={init:function(){t("#ads-modal").length||t("body").append(t("#ads-tmpl-modal").html())},clear:function(){t("#ads-modal .modal-title").text(""),t("#ads-modal .modal-body").html(""),t("#ads-modal .modal-footer").html(""),t("#ads-modal .modal-dialog").removeClass("modal-md").removeClass("modal-lg")},hide:function(){window.adsModal.clear(),t("#ads-modal").modal("hide")},show:function(a,e,r,i){window.adsModal.clear(),a=a||"",e=e||"",r=r||"",i=i||"lg",t("#ads-modal .modal-title").text(a),t("#ads-modal .modal-body").html(e),t("#ads-modal .modal-footer").html(r),t("#ads-modal .modal-dialog").addClass("modal-"+i),t("#ads-modal").modal("show"),setTimeout(window.ADS.switchery(t("#ads-modal")),300)}},window.adsModal.init(),{tip:function(){var a=t("#ads-modal");t(".js-change-tip").on("click",(function(){var a=t(this).parents(".item-inline"),e=a.find(".adsw-tip").val(),r=a.find(".adsw-order_number").val(),i=a.data("item_id"),d=t("#tmpl-edit-tip-head").text(),n={tip:e,order_number:r,item_id:i},o=t("#tmpl-edit-tip").html();window.adsModal.show(d,window.ADS.objTotmpl(o,n),"","md")})),t("body").on("click","#js-saveTIP",(function(){var e=a.find("#item_id"),r=a.find("#tip"),i=a.find("#order_number"),d=t.trim(e.val()),n=t.trim(r.val()),o=t.trim(i.val()),s=".adsw_tracking_id",l=".get-tracking";t.ajaxQueue({url:ajaxurl,data:{action:"adsw_save_tip",id:d,tip:n,order:o},type:"POST",success:function(a){if("done"===a){var e=t("#order_line_items").find('[data-item_id="'+d+'"]'),r=e.parents("tr"),i=r.find(".adsw_order_number");e.find(".adsw-order_number").val(o),e.find(".adsw-tip").val(n),o?(i.html('<a href="http://trade.aliexpress.com/order_detail.htm?orderId='+o+'" target="_blank">'+o+"</a>"),i.attr("data-order_number",o),r.find(l).show()):(i.html(i.data("default")),r.find(l).hide()),n?(r.find(s).html('<a href="http://www.17track.net/?nums='+n+'" target="_blank" class="js-track" data-tip="'+n+'">'+n+"</a>"),r.find(l).hide()):r.find(s).text(r.find(s).data("default"))}}}),a.modal("hide"),a.find("#pid").val(""),a.find("#tip").val(""),a.find("#order_number").val("")})),t(".item-inline").on("click",".js-get-tracking",(function(){var a=t(this).parents(".item-inline"),e=a.data("item_id"),r=a.find(".adsw-order_number").val();r&&e&&window.ADS.aliExtension.getTIPOrder(e,r)})),t("#get-tracking-line").on("click",".button",(function(){var a=t("#order_line_items"),e=[];a.find(".item-inline").each((function(a,r){var i=t(r).find(".adsw-order_number").val();!t(r).find(".adsw-tip").val()&&i&&e.push(i)})),e.length&&window.ADS.aliExtension.getTIPOrders(e)})),t(".item-inline").on("click",".js-placeorder-manually",(function(){var a=t(this).attr("href"),e=t(this).closest(".item-inline"),r=e.data("item_id"),i=e.find(".adsw-order_number").val(),d=e.data("product_id"),n=e.data("product_url");if(window.AvailableExtensions.is()&&!i&&r&&d)return window.ADS.aliExtension.placeOrderManually(a,d,r,n),!1})),window.ADS.Dispatcher.on("adsGoogleExtension:setOrderTIP",(function(a){if(void 0!==a.orderIdStore&&void 0!==a.orderDetail.trackingNo){var e=a.orderDetail.trackingNo.trim(),r=t('[data-item_id="'+a.orderIdStore+'"]'),i=t("#msg-tip-success").text();i=i.replace("{trackingNo}",e),r.length&&(r.data("tip",e),r.parents("tr").find(".adsw_tracking_id").hide(0).html('<a href="http://www.17track.net/?nums='+e+'" target="_blank" class="js-track" data-tip="'+e+'">'+e+"</a>").show(300),window.ADS.notify(i))}else{var d=t("#msg-tip-error").text();window.ADS.notify(d)}}),this),window.ADS.Dispatcher.on("adsGoogleExtension:setOrdersTIP",(function(a){if(void 0!==a.ordersDetail&&a.ordersDetail.length)a.ordersDetail.map((function(a){var e=a.trackingNo;a.products.map((function(a){var r=t('.adsw-order_number[value="'+a.orderId+'"]').parent(),i=t("#msg-tip-success-all").text();r.length&&(r.find(".adsw-tip").val(e),r.parents("tr").find(".adsw_tracking_id").hide(0).html('<a href="http://www.17track.net/?nums='+e+'" target="_blank" class="js-track" data-tip="'+e+'">'+e+"</a>").show(300),window.ADS.notify(i))}))}));else{var e=t("#msg-tip-error").text();window.ADS.notify(e)}}),this),window.ADS.Dispatcher.on("adsGoogleExtension:setOrdersIdAli",(function(a){var e=a.products;a.ordersDetail.map((function(a){a.products.map((function(a){var r=a.orderId,i=function(t,a){var e=[];for(var r in a){var i=a[r];i&&i.productId===t&&e.push(i.id)}return e}(a.productId,e),d=t('[data-item_id="'+i+'"]');d.length&&(d.find(".adsw-order_number").val(r),d.parents("tr").find(".adsw_order_number").hide(0).html('<a href="http://trade.aliexpress.com/order_detail.htm?orderId='+r+'" target="_blank">'+r+"</a>").attr("data-order_number",r).show(300))}))}))}),this)},init:function(){this.tip();var a={score:{url:window.location.href,name:"nameScore",type:"addOrder",plugin:"woo"},items:{th:".item-row-actions",order_number:".adsw_order_number",tracking_id:".adsw_tracking_id"}};setTimeout((function(){window.postMessage({source:"NAME_SOURCE_PAGE_ADD_ORDER",action:"initPageOrders",info:a},"*")}),1e3),t(a.items.th).length&&t(a.items.th).each((function(){var e=t(this).find(".adsw-order_number").val(),r=t(this).find(".adsw-tip").val(),i=t(this).parents("tr"),d=i.find(a.items.order_number),n=i.find(a.items.tracking_id);e?(d.html('<a href="http://trade.aliexpress.com/order_detail.htm?orderId='+e+'" target="_blank">'+e+"</a>"),d.attr("data-order_number",e)):d.text(d.data("default")),r?n.html('<a href="http://www.17track.net/?nums='+r+'" target="_blank" class="js-track" data-tip="'+r+'">'+r+"</a>"):(e&&i.find(".get-tracking").show(),n.text(n.data("default")))})),t("#autofilling").on("click",".button",(function(){t("#order_status").val();var e=t(this).data("pid");t.ajaxQueue({url:ajaxurl,data:{action:"adsw_getOrderInfo",post_id:e},type:"POST",dataType:"json",success:function(e){e&&(e.hasOwnProperty("error")?window.ADS.notify(e.error,"danger"):t.ajaxQueue({url:ajaxurl,data:{action:"adsw_placeOrderOnAli",post_id:e.post_id},type:"POST",dataType:"json",success:function(t){(a=t)&&window.postMessage({source:"NAME_SOURCE_PAGE_ADD_ORDER",action:"addOrder",info:a},"*")}}))}})}))}}.init()}))}});